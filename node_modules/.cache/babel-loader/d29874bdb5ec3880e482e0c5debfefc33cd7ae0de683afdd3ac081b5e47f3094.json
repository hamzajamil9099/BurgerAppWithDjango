{"ast":null,"code":"var _jsxFileName = \"/Users/dev/Documents/BurgerApp/BurgerApp/src/Components/OrderForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './OrderForm.css';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actionCreators } from '../States/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderForm = () => {\n  _s();\n  const total = useSelector(state => state.total);\n  const items = useSelector(state => state.items);\n  const token = useSelector(state => state.isLoggedIn);\n  const dispatch = useDispatch();\n  const action = bindActionCreators(actionCreators, dispatch);\n  const [formData, setFormData] = useState({\n    name: '',\n    street: '',\n    zipCode: '',\n    country: '',\n    email: '',\n    deliveryOption: 'Fastest'\n  });\n  const [isFormValid, setIsFormValid] = useState(false);\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  useEffect(() => {\n    const formValues = Object.values(formData);\n    const isFormFilled = formValues.every(value => value !== '');\n    setIsFormValid(isFormFilled);\n  }, [formData]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const orderData = {\n      ...formData,\n      ...items,\n      total\n    };\n    const response = await fetch('http://localhost:8000/api/orders/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify(orderData)\n    });\n    if (response.ok) {\n      action.updateIngrediants({\n        lettuce: 0,\n        bacon: 0,\n        cheese: 0,\n        meat: 0\n      });\n      action.resetTotal(3);\n    }\n    navigate('/');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-form-box\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Your Name\",\n          value: formData.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"street\",\n          placeholder: \"Street\",\n          value: formData.street,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"zipCode\",\n          placeholder: \"Zip Code\",\n          value: formData.zipCode,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"country\",\n          placeholder: \"Country\",\n          value: formData.country,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Email\",\n          value: formData.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"deliveryOption\",\n          value: formData.deliveryOption,\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Fastest\",\n            children: \"Fastest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Cheapest\",\n            children: \"Cheapest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !isFormValid,\n          children: \"Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderForm, \"Zb6+DFOFsyapWP8U7sbJtVm17wQ=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch, useNavigate];\n});\n_c = OrderForm;\nexport default OrderForm;\nvar _c;\n$RefreshReg$(_c, \"OrderForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSelector","useDispatch","bindActionCreators","actionCreators","jsxDEV","_jsxDEV","OrderForm","_s","total","state","items","token","isLoggedIn","dispatch","action","formData","setFormData","name","street","zipCode","country","email","deliveryOption","isFormValid","setIsFormValid","navigate","handleChange","e","value","target","formValues","Object","values","isFormFilled","every","handleSubmit","preventDefault","orderData","response","fetch","method","headers","body","JSON","stringify","ok","updateIngrediants","lettuce","bacon","cheese","meat","resetTotal","className","children","onSubmit","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","disabled","_c","$RefreshReg$"],"sources":["/Users/dev/Documents/BurgerApp/BurgerApp/src/Components/OrderForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './OrderForm.css';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actionCreators } from '../States/index';\nconst OrderForm = () => {\n  const total = useSelector (state => state.total);\n  const items = useSelector (state => state.items);\n  const token = useSelector (state => state.isLoggedIn)\n  const dispatch = useDispatch();\n  const action = bindActionCreators(actionCreators, dispatch);\n  const [formData, setFormData] = useState({\n    name: '',\n    street: '',\n    zipCode: '',\n    country: '',\n    email: '',\n    deliveryOption: 'Fastest',\n  });\n  const [isFormValid, setIsFormValid] = useState(false);\n  const navigate = useNavigate();\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  useEffect(() => {\n    const formValues = Object.values(formData);\n    const isFormFilled = formValues.every((value) => value !== '');\n    setIsFormValid(isFormFilled);\n  }, [formData]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const orderData = {\n        ...formData,\n        ...items,\n        total,\n      };\n      const response = await fetch('http://localhost:8000/api/orders/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify(orderData)\n        });\n      if (response.ok) {\n        action.updateIngrediants({\n          lettuce: 0,\n          bacon: 0,\n          cheese: 0,\n          meat: 0,\n        });\n        action.resetTotal(3);\n      } \n      navigate('/');\n  };\n\n  return (\n    <div className=\"order-form-container\">\n      <div className=\"order-form-box\">\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Your Name\"\n            value={formData.name}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"street\"\n            placeholder=\"Street\"\n            value={formData.street}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"zipCode\"\n            placeholder=\"Zip Code\"\n            value={formData.zipCode}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"country\"\n            placeholder=\"Country\"\n            value={formData.country}\n            onChange={handleChange}\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={formData.email}\n            onChange={handleChange}\n          />\n          <select\n            name=\"deliveryOption\"\n            value={formData.deliveryOption}\n            onChange={handleChange}\n          >\n            <option value=\"Fastest\">Fastest</option>\n            <option value=\"Cheapest\">Cheapest</option>\n          </select>\n          <button type=\"submit\" disabled={!isFormValid}>\n            Order\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}